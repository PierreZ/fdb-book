<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Yet another database? - the FoundationDB Book</title>
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="../welcome.html">The FoundationDB Book</a></li><li class="chapter-item expanded affix "><li class="part-title">Meet FoundationDB</li><li class="chapter-item expanded "><a href="../meet_fdb/another_db.html" class="active"><strong aria-hidden="true">1.</strong> Yet another database?</a></li><li class="chapter-item expanded "><a href="../meet_fdb/enter_fdb.html"><strong aria-hidden="true">2.</strong> Enter FoundationDB</a></li><li class="chapter-item expanded "><a href="../meet_fdb/everything_is_kv.html"><strong aria-hidden="true">3.</strong> Everything is a key-value!</a></li><li class="chapter-item expanded "><a href="../meet_fdb/correctess.html"><strong aria-hidden="true">4.</strong> Correct and robust, choose both</a></li><li class="chapter-item expanded affix "><li class="part-title">Getting started with FoundationDB</li><li class="chapter-item expanded "><a href="../getting_started/installing-fdb.html"><strong aria-hidden="true">5.</strong> Installing FoundationDB</a></li><li class="chapter-item expanded "><a href="../getting_started/fdbcli.html"><strong aria-hidden="true">6.</strong> Playing with fdbcli</a></li><li class="chapter-item expanded affix "><li class="part-title">Developing a layer</li><li class="chapter-item expanded "><a href="../develop_layer/transactions.html"><strong aria-hidden="true">7.</strong> ACID transactions</a></li><li class="chapter-item expanded "><a href="../develop_layer/crafting-row-keys.html"><strong aria-hidden="true">8.</strong> Crafting row keys</a></li><li class="chapter-item expanded "><a href="../develop_layer/studiable-layers.html"><strong aria-hidden="true">9.</strong> Existing open-source layers</a></li><li class="chapter-item expanded "><a href="../develop_layer/tips.html"><strong aria-hidden="true">10.</strong> Tips and tricks</a></li><li class="chapter-item expanded affix "><li class="part-title">FoundationDB's internals</li><li class="chapter-item expanded "><div><strong aria-hidden="true">11.</strong> TODO: the list of roles</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">12.</strong> TODO: the write-path</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">13.</strong> TODO: the read-path</div></li><li class="chapter-item expanded affix "><li class="part-title">The Record-Layer</li><li class="chapter-item expanded "><div><strong aria-hidden="true">14.</strong> TODO: What is the Record-layer?</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">15.</strong> TODO: QuiCK</div></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
<script defer data-domain="pierrez.github.io/fdb-book" src="https://plausible.io/js/plausible.js"></script>                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">the FoundationDB Book</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/PierreZ/fdb-book" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="yet-another-database"><a class="header" href="#yet-another-database">Yet another database?</a></h1>
<ul>
<li><a href="#how-to-choose-a-database">How to choose a database?</a></li>
<li><a href="#stateless-applications">Stateless applications</a></li>
<li><a href="#datastores-architecture">Datastore's architecture</a></li>
<li><a href="#sharing-the-storage-engine-">Sharing the storage engine 🤔</a></li>
<li><a href="#requirements-for-such-a-storage-engine">Requirements for such a storage engine</a></li>
</ul>
<blockquote>
<p>Another database? There is so many of them 😑</p>
</blockquote>
<p>You are right, we are living in the golden age of data, and as such, we have many options to store our data.</p>
<p>According to the <a href="https://dbdb.io/">Database of Databases</a>, you can choose between <strong>795 database management systems</strong>. Yes, you read it right, almost 800 different databases to compare 😱</p>
<h2 id="how-to-choose-a-database"><a class="header" href="#how-to-choose-a-database">How to choose a database?</a></h2>
<p>If you click on the <a href="https://dbdb.io/browse">Browse button</a>, you will be able to go through the different criteria:</p>
<ul>
<li>is it open-source or not?</li>
<li>is it an embedded/single-node/distributed database?</li>
<li>What is the query language?</li>
<li>is it suited for <a href="https://en.wikipedia.org/wiki/Online_transaction_processing">OTLP</a> or <a href="https://en.wikipedia.org/wiki/Online_analytical_processing">OLAP</a> workloads?</li>
<li>What is the data model?</li>
<li>What is the scalability limits?</li>
<li>Is it transactional?</li>
<li>Is there indexes?</li>
<li>Is it a row-oriented storage, or maybe columnar?</li>
<li>is there stored procedures and materialized views?</li>
<li>and so on.</li>
</ul>
<p>That's a lot of criteria! But that means we also have a big number of possible combinations, each one creating a potential new database. This is why we have <strong>specialized datastores</strong> like:</p>
<ul>
<li>document</li>
<li>column </li>
<li>key-value</li>
<li>graph </li>
<li>indexing</li>
<li>messaging</li>
<li>and others!</li>
</ul>
<h2 id="stateless-applications"><a class="header" href="#stateless-applications">Stateless applications</a></h2>
<p>This variety of specialized datastore is allowing developers to have multiple datastores as <strong>requirements</strong> for a single infrastructure.</p>
<blockquote>
<p>Alice: &quot;Hey Bob, what do you need for your next project?&quot;</p>
<p>Bob: &quot;Mmmmh, I will need an SQL database and a messaging systems 🤔&quot;.</p>
</blockquote>
<p>Storing data is hard, so we are using them as <strong>durable</strong> strongholds for our data, while making our applications mostly <strong>stateless</strong>.</p>
<p>So, Bob's architecture looks like this:</p>
<pre class="mermaid">flowchart TD
    id1(Bob's stateless applications)
    id2(datastore 1)
    id3(datastore 2)
    
    id1 -- uses --&gt; id2
    id1 -- uses --&gt; id3
</pre>
<h2 id="datastores-architecture"><a class="header" href="#datastores-architecture">Datastore's architecture</a></h2>
<p>We said earlier that there is a lot of criteria to choose a database, but we can narrow to 3: </p>
<ul>
<li>What is the <strong>Query language</strong>,</li>
<li>What is the <strong>data model</strong>,</li>
<li>What is the <strong>Storage Engine</strong>.</li>
</ul>
<p>For example, PostgreSQL is exposing relational data through the SQL language and storing files on a single node. </p>
<p>Let's update the flowchart:</p>
<pre class="mermaid">flowchart TD
    id1(Bob's stateless applications)
    ql1(Query Language 1)
    ql2(Query Language 2)
    dm1(Data Model 1)
    dm2(Data Model 2)
    se1(Storage Engine 1)
    se2(Storage Engine 2)
    
    id1 -- uses --&gt; ql1 
    ql1 -- to access data as --&gt; dm1
    dm1 -- which are stored in --&gt; se1
    id1 -- uses --&gt; ql2
    ql2 -- to access data as --&gt; dm2
    dm2 -- which are stored in --&gt; se2
</pre>
<p>Document databases, column-oriented, row-oriented, JSON, key-value, etc. all make sense in the right context, and often different parts of an application call for different choices. That means we cannot mutualize the Query language and the data models. What's left is the <strong>storage engine</strong>.</p>
<h2 id="sharing-the-storage-engine-"><a class="header" href="#sharing-the-storage-engine-">Sharing the storage engine 🤔</a></h2>
<p>Let's mutualize the storage Engine!</p>
<pre class="mermaid">flowchart TD
    id1(Bob's stateless applications)
    ql1(Query Language 1)
    ql2(Query Language 2)
    dm1(Data Model 1)
    dm2(Data Model 2)
    se(Shared storage Engine)
    
    id1 -- uses --&gt; ql1 
    ql1 -- to access data as --&gt; dm1
    dm1 -- which are stored in --&gt; se
    id1 -- uses --&gt; ql2
    ql2 -- to access data as --&gt; dm2
    dm2 -- which are stored in --&gt; se
</pre>
<p>This design has some great advantages:</p>
<ul>
<li>the storage engine <em>only need to focus</em> on storage,</li>
<li>any components above the storage Engine <strong>has become stateless</strong>.</li>
</ul>
<p>That could work, but if we have put a lot of contraints on the storage engine, let's talk about what we require. </p>
<h2 id="requirements-for-such-a-storage-engine"><a class="header" href="#requirements-for-such-a-storage-engine">Requirements for such a storage engine</a></h2>
<p>So, we know have a storage engines that needs to handle multiple types of data. To be cloud-Native, the storage engine needs to be:</p>
<ul>
<li>fault tolerant,</li>
<li>scalable,</li>
<li>highly available.</li>
</ul>
<p>while providing:</p>
<ul>
<li>strong semantics,</li>
<li>flexible data models.</li>
</ul>
<p>Now the question is: <strong>can we design such a storage engine?</strong> The answer is <strong>yes</strong>, and it is called FoundationDB.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../welcome.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                            <a rel="next" href="../meet_fdb/enter_fdb.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../welcome.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                    <a rel="next" href="../meet_fdb/enter_fdb.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        <script type="text/javascript" src="../mermaid.min.js"></script>
        <script type="text/javascript" src="../mermaid-init.js"></script>
    </body>
</html>
